<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feedr - New York Times</title>
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="node_modules/foundation-datepicker/css/foundation-datepicker.css">
    <link rel="icon" href="/favicon.ico">
    <link href="//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css" rel="stylesheet">
  </head>
  <body>
    <div class="top-bar">
      <div class="top-bar-left">
        <ul class="menu">
          <li class="menu-text"><a href="http://localhost:3000" title="feedr">feedr</a></li>
        </ul>
      </div>
      <div class="top-bar-right">
        <ul class="menu">
          <li><a href="http://developer.nytimes.com/article_search_v2.json" target="_blank" title="API Docs">API Docs</a></li>
          <li><a href="https://github.com/ryanpflem/feedr-foundation" target="_blank" title="Fork Me">Fork Me</a></li>
        </ul>
      </div>
    </div>
    <div class="callout large app-header green" id="top-of-page">
      <div class="row column text-center">
        <h1>New York Times feedr</h1>
        <h2 class="subheader">Using the Article Search API</h2>
      </div>
    </div>
    <!-- popup -->
    <div id="article_popup">
      <i class="article_popup_close">Close</i>
      <span>
        <iframe src=""></iframe>
      </span>     
    </div>
    <!-- popup -->
    <div class="row" id="content">
      <div class="medium-3 columns parameters" data-sticky-container>
        <div class="sticky" data-sticky data-top-anchor="content" data-btm-anchor="footer:top">
        <h4>API Parameters</h4>
        <ul>
          <li><label class="grey label" for="search-input">Search <span class="api-ref">[q-string]</span></label></li>
          <li><input type="text" id="query"></li>
          <li><label class="grey label" for="highlight-switch">Highlight search results?</label></li>
          <li>
            <div class="switch">
              <input class="switch-input" id="highlight" type="checkbox" name="highlight-switchs">
              <label class="switch-paddle" for="highlight">
                <span class="show-for-sr">Highlight search results?</span>
              </label>
            </div>
          </li>
          <li><label class="grey label" for="filter-input">Filter <span class="api-ref">[fq-string]</span></label></li>
          <li><input type="text" id="filter"></li>
          <li><label class="grey label" for="start-date-input">Start Date <span class="api-ref">[begin_date-string]</span></label></li>
          <li><input type="text" class="span2 startDate" data-date-format="mm/dd/yyyy" id="dp1"></li>
          <li><label class="grey label" for="end-date-input">End Date <span class="api-ref">[end_date-string]</span></label></li>
          <li><input type="text" class="span2 endDate" data-date-format="mm/dd/yyyy" id="dp2"></li>
          <li><label class="grey label" for="page-input">Page <span class="api-ref">[page-integer]</span></label></li>
          <li><input type="number" min="0" id="page"></li>
          <a href="#top-of-page"><button type="button" class="red button" id="findArticles">Find My Articles</button></a>
        </ul>
        </div>
      </div>
      <div id="article-feed" class="medium-offset-2 medium-6 columns">
      </div>
      <div class="medium-5 columns read-more">
        <button type="button" class="red button" id="moreArticles">See More Articles</button>  
      </div>
    </div>
    <footer class="footer" id="footer">
      <div class="row">
        <div class="small-12 columns">
          <p class="slogan">New York Times feedr</p>
          <p class="links">
            <a href="http://localhost:3000" title="feedr">feedr</a>
            <a href="http://developer.nytimes.com/article_search_v2.json" target="_blank" title="API Docs">API Docs</a>
            <a href="https://github.com/ryanpflem/feedr-foundation" target="_blank" title="Fork Me">Fork Me</a>
          </p>
        </div>
      </div>
    </footer>

    <script id="article-template" type="text/x-handlebars-template">
      <div class="blog-post">
        <h3 class="article_popup_open" popupurl="{{articleUrl}}">{{articleHeadline}}<small>{{articleDate}}</small></h3>
          {{#if articleImages.url}}
          <img class="thumbnail article_popup_open" popupurl="{{articleUrl}}" src="{{articleImages.url}}">
          {{/if}}
        <p class="snippet">{{{articleSnippet}}}</p>
        <div class="callout grey">
          <ul class="menu simple">
            <li>{{articleAuthor}}</li>
            <!-- <li>Category: {{articleCategory}}</li> -->
            <li>Section: <span class="section">{{articleSection}}</span></li>
            <li><a href="{{articleUrl}}" target="_blank">Read on the NYT</a></li>
          </ul>
          <div>
            <span class="keyword"></span>
          </div>
      </div>
    </script>

    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/what-input/what-input.js"></script>
    <script src="bower_components/foundation-sites/dist/foundation.js"></script>
    <script src="node_modules/foundation-datepicker/js/foundation-datepicker.js"></script>
    <script src="js/handlebars-v4.0.5.js"></script>
    <script src="https://cdn.rawgit.com/vast-engineering/jquery-popup-overlay/1.7.13/jquery.popupoverlay.js"></script>
    <script src="js/app.js"></script>
    <script>
      $(function(){
        var nowTemp = new Date();
        var now = new Date(nowTemp.getFullYear(), nowTemp.getMonth(), nowTemp.getDate(), 0, 0, 0, 0);
        $('#dp1').fdatepicker({
          initialDate: now,
          format: 'yyyy-mm-dd',
          disableDblClickSelection: true,
          closeButton: true
        });
        $('#dp2').fdatepicker({
          initialDate: now,
          format: 'yyyy-mm-dd',
          disableDblClickSelection: true,
          closeButton: true
        });
      });
    </script>
  </body>
</html>
